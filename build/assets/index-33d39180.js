import{l as u,u as O,r as c,c as b,a as v,b as f,e as d,d as h,f as V,R as g,L as P,g as j,h as G,i as A,j as T,k as J,m as F,n as U,o as W,w as Z}from"./index-f32e7981.js";import{M as Se,P as Me,T as ke}from"./index-f32e7981.js";function x(a,n,e){n.center!==e.center&&a.setLatLng(n.center),n.radius!=null&&n.radius!==e.radius&&a.setRadius(n.radius)}function z(a){return a.split(" ").filter(Boolean)}function D(a,n){z(n).forEach(e=>{u.DomUtil.addClass(a,e)})}function S(a,n,e){n.bounds instanceof u.LatLngBounds&&n.bounds!==e.bounds&&a.setBounds(n.bounds),n.opacity!=null&&n.opacity!==e.opacity&&a.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==e.zIndex&&a.setZIndex(n.zIndex)}function R(){return O().map}function oe(a,n){const e=R();return c.useEffect(function(){return e.on(a,n),function(){e.off(a,n)}},[e,a,n]),e}function re(a){const n=R();return c.useEffect(function(){return n.on(a),function(){n.off(a)}},[n,a]),n}const le=b(function(n){return new u.Control.Attribution(n)}),ce=v(function({center:n,children:e,...t},o){const r=new u.Circle(n,t);return f(r,d(o,{overlayContainer:r}))},x),ue=v(function({center:n,children:e,...t},o){const r=new u.CircleMarker(n,t);return f(r,d(o,{overlayContainer:r}))},x),ie=v(function({children:n,...e},t){const o=new u.FeatureGroup([],e);return f(o,d(t,{layerContainer:o,overlayContainer:o}))}),se=v(function({data:n,...e},t){const o=new u.GeoJSON(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),fe=h(function({bounds:n,url:e,...t},o){const r=new u.ImageOverlay(e,n,t);return f(r,d(o,{overlayContainer:r}))},function(n,e,t){if(S(n,e,t),e.bounds!==t.bounds){const o=e.bounds instanceof u.LatLngBounds?e.bounds:new u.LatLngBounds(e.bounds);n.setBounds(o)}e.url!==t.url&&n.setUrl(e.url)}),de=h(function({children:n,...e},t){const o=new u.LayerGroup([],e);return f(o,d(t,{layerContainer:o}))}),$=G(function({children:n,...e},t){const o=new u.Control.Layers(void 0,void 0,e);return f(o,d(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),q=j($),_=V(q);function N(a){return function(e){const t=O(),o=c.useRef(e),[r,l]=c.useState(null),{layersControl:s,map:i}=t,y=c.useCallback(L=>{s!=null&&(o.current.checked&&i.addLayer(L),a(s,L,o.current.name),l(L))},[s,i]),C=c.useCallback(L=>{s==null||s.removeLayer(L),l(null)},[s]),E=c.useMemo(()=>d(t,{layerContainer:{addLayer:y,removeLayer:C}}),[t,y,C]);return c.useEffect(()=>{r!==null&&o.current!==e&&(e.checked===!0&&(o.current.checked==null||o.current.checked===!1)?i.addLayer(r):o.current.checked===!0&&(e.checked==null||e.checked===!1)&&i.removeLayer(r),o.current=e)}),e.children?g.createElement(P,{value:E},e.children):null}}_.BaseLayer=N(function(n,e,t){n.addBaseLayer(e,t)});_.Overlay=N(function(n,e,t){n.addOverlay(e,t)});function p(){return p=Object.assign||function(a){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}return a},p.apply(this,arguments)}function Y({bounds:a,boundsOptions:n,center:e,children:t,className:o,id:r,placeholder:l,style:s,whenReady:i,zoom:y,...C},E){const[L]=c.useState({className:o,id:r,style:s}),[m,I]=c.useState(null);c.useImperativeHandle(E,()=>(m==null?void 0:m.map)??null,[m]);const B=c.useCallback(M=>{if(M!==null&&m===null){const w=new u.Map(M,C);e!=null&&y!=null?w.setView(e,y):a!=null&&w.fitBounds(a,n),i!=null&&w.whenReady(i),I(A(w))}},[]);c.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const H=m?g.createElement(P,{value:m},t):l??null;return g.createElement("div",p({},L,{ref:B}),H)}const ye=c.forwardRef(Y),K=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function k(a,n){const{[n]:e,...t}=a;return t}function Q(a,n,e){if(K.indexOf(a)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${a}`);if(e.map.getPane(a)!=null)throw new Error(`A pane with this name already exists: ${a}`);const t=n.pane??e.pane,o=t?e.map.getPane(t):void 0,r=e.map.createPane(a,o);return n.className!=null&&D(r,n.className),n.style!=null&&Object.keys(n.style).forEach(l=>{r.style[l]=n.style[l]}),r}function X(a,n){const[e]=c.useState(a.name),[t,o]=c.useState(null);c.useImperativeHandle(n,()=>t,[t]);const r=O(),l=c.useMemo(()=>({...r,pane:e}),[r]);return c.useEffect(()=>(o(Q(e,a,r)),function(){var y;const i=r.map.getPane(e);(y=i==null?void 0:i.remove)==null||y.call(i),r.map._panes!=null&&(r.map._panes=k(r.map._panes,e),r.map._paneRenderers=k(r.map._paneRenderers,e))}),[]),a.children!=null&&t!=null?T.createPortal(g.createElement(P,{value:l},a.children),t):null}const me=c.forwardRef(X),Ce=v(function({positions:n,...e},t){const o=new u.Polygon(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Le=v(function({positions:n,...e},t){const o=new u.Polyline(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),ve=v(function({bounds:n,...e},t){const o=new u.Rectangle(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),we=b(function(n){return new u.Control.Scale(n)}),ee=G(function(n,e){const{attributes:t,bounds:o,...r}=n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null&&Object.keys(t).forEach(i=>{l.setAttribute(i,t[i])});const s=new u.SVGOverlay(l,o,r);return f(s,e,l)},S),ne=J(ee);function te({children:a,...n},e){const{instance:t,container:o}=ne(n).current;return c.useImperativeHandle(e,()=>t),o==null||a==null?null:T.createPortal(a,o)}const ge=c.forwardRef(te),Ee=F(function(n,e){const t=new u.Tooltip(n,e.overlayContainer);return f(t,e)},function(n,e,{position:t},o){c.useEffect(function(){const l=e.overlayContainer;if(l==null)return;const{instance:s}=n,i=C=>{C.tooltip===s&&(t!=null&&s.setLatLng(t),s.update(),o(!0))},y=C=>{C.tooltip===s&&o(!1)};return l.on({tooltipopen:i,tooltipclose:y}),l.bindTooltip(s),function(){l.off({tooltipopen:i,tooltipclose:y}),l._map!=null&&l.unbindTooltip()}},[n,e,o,t])}),pe=h(function({bounds:n,url:e,...t},o){var l;const r=new u.VideoOverlay(e,n,t);return t.play===!0&&((l=r.getElement())==null||l.play()),f(r,d(o,{overlayContainer:r}))},function(n,e,t){S(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const o=n.getElement();o!=null&&(e.play===!0&&!t.play?o.play():!e.play&&t.play===!0&&o.pause())}),Oe=U(function({eventHandlers:n,params:e={},url:t,...o},r){const l=new u.TileLayer.WMS(t,{...e,...Z(o,r)});return f(l,r)},function(n,e,t){W(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),be=b(function(n){return new u.Control.Zoom(n)});export{le as AttributionControl,ce as Circle,ue as CircleMarker,ie as FeatureGroup,se as GeoJSON,fe as ImageOverlay,de as LayerGroup,_ as LayersControl,ye as MapContainer,Se as Marker,me as Pane,Ce as Polygon,Le as Polyline,Me as Popup,ve as Rectangle,ge as SVGOverlay,we as ScaleControl,ke as TileLayer,Ee as Tooltip,pe as VideoOverlay,Oe as WMSTileLayer,be as ZoomControl,R as useMap,oe as useMapEvent,re as useMapEvents};
