{"version":3,"file":"react-liquidswipe.cjs.production.min.js","sources":["../src/liquidSwipe/Styled.tsx","../src/liquidSwipe/Page.tsx","../src/liquidSwipe/LiquidSwipe.tsx"],"sourcesContent":["import styled from 'styled-components';\n\n\nexport const LQSW_SVG = styled.svg`\n    position: absolute;\n    height: 100%;\n    width: 10px;\n`;\n\nexport const LQSW_PAGE = styled.div`\n    width: 100%;\n    height: 100%;\n    position: absolute;\n`;\n\nexport const LQSW_CONTAINER = styled.div`\n    width: 100vw;\n    height: 100vh;\n    position: relative;\n    overflow: hidden;\n    @media only screen and (max-width: 500px) {\n      width: 100%;\n    }\n`;\n\nexport const LQSW_BUTTON = {\n    position: \"absolute\",\n    width: \"40px\",\n    height: \"40px\",\n    background: \"transparent\",\n    cursor: \"pointer\",\n    border: \"none\",\n    touchAction: \"pan-y\",\n    outline: 0\n};","import React, { useState, useEffect, FC } from \"react\";\nimport { useSpring, animated, interpolate } from \"@react-spring/web\";\nimport { useDrag } from \"react-use-gesture\";\nimport { LQSW_BUTTON, LQSW_PAGE, LQSW_SVG } from \"./Styled\";\n\n\n// const height = window.innerHeight;\n// const width = window.innerWidth;\n// let w = width;\n\nconst getPath = (y: number, x: number, w: number, h: number) => {\n  const anchorDistance = 200 + x * 0.5;\n  const curviness = anchorDistance - 80;\n  const path = `M${w}, ${h} H0V0h${w}v ${y - anchorDistance\n    } c0, ${curviness} , ${x} , ${curviness} , ${x} , ${anchorDistance} \n  S${w}, ${y} ,${w}, ${y + anchorDistance * 2} V ${h} z`;\n  return path;\n};\n\nexport interface PageProps {\n  parentElement: any;\n  prev: FC | null;\n  current: FC;\n  next: FC | null;\n  index: number;\n  setActive: Function;\n  gone?: boolean;\n  theme?: string;\n}\n\nexport default function Page({\n  prev,\n  current,\n  next,\n  theme = \"#333333\",\n  index,\n  setActive,\n  gone = false,\n  parentElement,\n}: PageProps) {\n  const height: number = useState(parentElement.current.offsetHeight)[0];\n  const width: number = useState(parentElement.current.offsetWidth)[0];\n\n  const [isGone, setGone] = useState(gone);\n  const [isPrevMove, setPrevMove] = useState(false);\n  const [isNextMove, setNextMove] = useState(false);\n\n  const [posL, setPosL] = useSpring(() => ({\n    posX: -50,\n    posY: height * 0.72 - 20,\n    config: {\n      mass: 3,\n    },\n  }));\n\n  const [posR, setPosR] = useSpring(() => ({\n    posX: width + 50,\n    posY: height * 0.72 - 20,\n    config: {\n      mass: 3,\n    },\n  }));\n\n  const [{ prevD }, setDPrevValue]: any = useSpring(() => ({\n    prevD: gone\n      ? getPath(0, 0, width, height)\n      : getPath(height * 0.72, 0, 0, height),\n    config: {\n      mass: 3,\n    },\n    onRest: () => {\n      if (isGone) {\n        setDPrevValue(getPath(0, 0, width, height));\n      }\n    },\n  }));\n\n  const [{ nextD }, setDNextValue]: any[] = useSpring(() => ({\n    nextD: gone\n      ? getPath(0, 0, width, height)\n      : getPath(height * 0.72, 0, 0, height),\n    config: {\n      mass: 3,\n    },\n    onRest: () => {\n      if (isGone) {\n        setDNextValue(getPath(0, 0, width, height));\n      }\n    },\n  }));\n\n  useEffect(() => {\n    if (!gone) {\n      setDPrevValue({\n        prevD: getPath(height * 0.72, 48, 5, height),\n      });\n      setDNextValue({\n        nextD: getPath(height * 0.72, 48, 5, height),\n      });\n      setTimeout(() => {\n        setPosL({\n          posX: 7,\n        });\n        setPosR({\n          posX: width - 47,\n        });\n      }, 100);\n    }\n  }, [gone, setDPrevValue, setDNextValue, setPosL, setPosR]);\n\n  const bind = useDrag(\n    ({ down, movement: [mx], xy: [, my], vxvy: [vx] }) => {\n      if (!isGone) {\n        if (down && isPrevMove) {\n          setDPrevValue({\n            prevD: getPath(my, mx + 60, 10, height),\n          });\n          setPosL({\n            posX: mx + 20,\n            posY: my - 20,\n          });\n          if (mx > width / 2 || vx > 3) {\n            setDPrevValue({\n              prevD: getPath(my, -50, width, height),\n            });\n            setGone(true);\n            setTimeout(() => {\n              setDPrevValue({\n                prevD: getPath(my, 0, width, height),\n              });\n              setActive(index - 1);\n            }, 240);\n          }\n        } else if (down && isNextMove) {\n          mx = mx * -1;\n          setDNextValue({\n            nextD: getPath(my, mx + 60, 10, height),\n          });\n          setPosR({\n            posX: width - (mx + 60),\n            posY: my - 20,\n          });\n          if (Math.abs(mx) > width / 2 || vx < -3) {\n            setDNextValue({\n              nextD: getPath(my, -50, width, height),\n            });\n            setGone(true);\n            setTimeout(() => {\n              setDNextValue({\n                nextD: getPath(my, 0, width, height),\n              });\n              setActive(index + 1);\n            }, 240);\n          }\n        } else {\n          setDPrevValue({\n            prevD: getPath(height * 0.72, 48, 5, height),\n          });\n          setPosL({\n            posX: 7,\n            posY: height * 0.72 - 20,\n          });\n          setDNextValue({\n            nextD: getPath(height * 0.72, 48, 5, height),\n          });\n          setPosR({\n            posX: width - 47,\n            posY: height * 0.72 - 20,\n          });\n        }\n      }\n    },\n    {\n      useTouch: width <= 414,\n    }\n  );\n  return (\n    <div id={`pageContainer${index}`} {...bind()}>\n      <LQSW_SVG\n        style={{\n          zIndex: 20004,\n        }}\n        version=\"1.1\"\n        id=\"blob\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <clipPath id={`clipping${index}`}>\n          <animated.path id={`blob-path${index}`} d={prevD} />\n        </clipPath>\n      </LQSW_SVG>\n      <LQSW_SVG\n        style={{\n          zIndex: 20004,\n        }}\n        version=\"1.1\"\n        id=\"blob\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <clipPath id={`clippingRight${index}`}>\n          <animated.path\n            transform={`translate(${width}, 0) scale(-1, 1)`}\n            id={`blob-path${index}`}\n            d={nextD}\n          />\n        </clipPath>\n      </LQSW_SVG>\n\n      {prev && (\n        <>\n          <LQSW_PAGE\n            style={{\n              clipPath: `url(#clipping${index})`,\n              WebkitClipPath: `url(#clipping${index})`,\n              zIndex: 20001,\n            }}\n          >\n            {prev}\n          </LQSW_PAGE>\n          <animated.button\n            id={`button1i${index}`}\n            color={theme}\n            onMouseDown={() => {\n              setPrevMove(true);\n            }}\n            onMouseUp={() => {\n              setPrevMove(false);\n            }}\n            onTouchStart={() => {\n              setPrevMove(true);\n            }}\n            onTouchEnd={() => {\n              setPrevMove(false);\n            }}\n            // @ts-ignore\n            style={{\n              ...LQSW_BUTTON,\n              opacity: posL.posX.interpolate({\n                range: [0, 100],\n                output: [1, 0],\n              }),\n              zIndex: 20005,\n              transform: interpolate(\n                [\n                  posL.posX.interpolate((x) => `translateX(${x}px)`),\n                  posL.posY.interpolate((y) => `translateY(${y}px)`),\n                ],\n                (translateX, translateY) => `${translateX} ${translateY}`\n              ),\n            }}\n          >\n            <svg\n              width=\"30\"\n              height=\"30\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M16.6308 13.131C16.5743 13.189 16.3609 13.437 16.1622 13.641C14.9971 14.924 11.9576 17.024 10.3668 17.665C10.1252 17.768 9.51437 17.986 9.18802 18C8.8753 18 8.5772 17.928 8.29274 17.782C7.93814 17.578 7.65368 17.257 7.49781 16.878C7.39747 16.615 7.2416 15.828 7.2416 15.814C7.08573 14.953 7 13.554 7 12.008C7 10.535 7.08573 9.193 7.21335 8.319C7.22796 8.305 7.38383 7.327 7.55431 6.992C7.86702 6.38 8.47784 6 9.13151 6H9.18802C9.61374 6.015 10.509 6.395 10.509 6.409C12.0141 7.051 14.9834 9.048 16.1768 10.375C16.1768 10.375 16.5129 10.716 16.659 10.929C16.887 11.235 17 11.614 17 11.993C17 12.416 16.8724 12.81 16.6308 13.131Z\"\n                fill=\"#130F26\"\n              />\n            </svg>\n          </animated.button>\n        </>\n      )}\n      <LQSW_PAGE\n        style={{\n          zIndex: 20000,\n        }}\n      >\n        <>{current}</>\n      </LQSW_PAGE>\n      {next && (\n        <>\n          <LQSW_PAGE\n            style={{\n              clipPath: `url(#clippingRight${index})`,\n              WebkitClipPath: `url(#clippingRight${index})`,\n              zIndex: 20002,\n            }}\n          >\n            {next}\n          </LQSW_PAGE>\n          <animated.button\n            id={`button2i${index}`}\n            color={theme}\n            onMouseDown={() => {\n              setNextMove(true);\n            }}\n            onMouseUp={() => {\n              setNextMove(false);\n            }}\n            onTouchStart={() => {\n              setNextMove(true);\n            }}\n            onTouchEnd={() => {\n              setNextMove(false);\n            }}\n            // @ts-ignore\n            style={{\n              ...LQSW_BUTTON,\n              opacity: posR.posX.interpolate({\n                range: [width - 40, width - 140],\n                output: [1, 0],\n              }),\n              zIndex: 20005,\n              transform: interpolate(\n                [\n                  posR.posX.interpolate((x) => `translateX(${x}px)`),\n                  posR.posY.interpolate((y) => `translateY(${y}px)`),\n                ],\n                (translateX, translateY) => `${translateX} ${translateY}`\n              ),\n            }}\n          >\n            <svg\n              width=\"30\"\n              height=\"30\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M7.36922 10.869C7.42572 10.811 7.63906 10.563 7.8378 10.359C9.00292 9.076 12.0424 6.976 13.6332 6.335C13.8748 6.232 14.4856 6.014 14.812 6C15.1247 6 15.4228 6.072 15.7073 6.218C16.0619 6.422 16.3463 6.743 16.5022 7.122C16.6025 7.385 16.7584 8.172 16.7584 8.186C16.9143 9.047 17 10.446 17 11.992C17 13.465 16.9143 14.807 16.7867 15.681C16.772 15.695 16.6162 16.673 16.4457 17.008C16.133 17.62 15.5222 18 14.8685 18H14.812C14.3863 17.985 13.491 17.605 13.491 17.591C11.9859 16.949 9.01656 14.952 7.82319 13.625C7.82319 13.625 7.48709 13.284 7.34096 13.071C7.11301 12.765 7 12.386 7 12.007C7 11.584 7.12762 11.19 7.36922 10.869Z\"\n                fill=\"#130F26\"\n              />\n            </svg>\n          </animated.button>\n        </>\n      )}\n    </div>\n  );\n};","import React, { ReactElement } from 'react';\nimport { useRef, useState, useEffect, FC } from 'react';\nimport Page from './Page';\nimport { LQSW_CONTAINER } from './Styled';\n\nexport default function LiquidSwipe({ components, style }: { components: FC[], style?: any }): ReactElement {\n  const sizeOfSwipe = components.length;\n  const [isActive, setActive] = useState(0);\n  const [elm, setElm] = useState<ReactElement>();\n  const parentElement = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    setElm(\n      <Page\n        key={isActive}\n        index={isActive}\n        prev={components[isActive - 1] || null}\n        current={components[isActive]}\n        next={components[isActive + 1] || null}\n        setActive={setActive}\n        parentElement={parentElement} />\n    );\n  }, [isActive, components]);\n\n  if (sizeOfSwipe !== 0) {\n    return (\n      <>\n        <LQSW_CONTAINER ref={parentElement} style={style}>\n          {elm}\n        </LQSW_CONTAINER>\n      </>\n    );\n  } else {\n    return <></>;\n  }\n};\n"],"names":["LQSW_SVG","styled","svg","LQSW_PAGE","div","LQSW_CONTAINER","LQSW_BUTTON","position","width","height","background","cursor","border","touchAction","outline","getPath","y","x","w","h","anchorDistance","curviness","Page","prev","current","next","theme","index","setActive","gone","parentElement","useState","offsetHeight","offsetWidth","isGone","setGone","isPrevMove","setPrevMove","isNextMove","setNextMove","useSpring","posX","posY","config","mass","posL","setPosL","posR","setPosR","prevD","onRest","setDPrevValue","nextD","setDNextValue","useEffect","setTimeout","bind","useDrag","down","mx","movement","my","xy","vx","vxvy","Math","abs","useTouch","React","id","style","zIndex","version","xmlns","animated","path","d","transform","clipPath","WebkitClipPath","button","color","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","opacity","interpolate","range","output","translateX","translateY","viewBox","fill","components","sizeOfSwipe","length","isActive","elm","setElm","useRef","key","ref"],"mappings":"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"}